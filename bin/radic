#!/usr/bin/env php
<?php

require __DIR__.'/../vendor/autoload.php';
require __DIR__.'/../src/boot.php';

use Symfony\Component\Console\Application;

if(!defined('RADIC_AS_LIB'))
{

    $application = new Application('Radic CLI', radic()->getVersion());

    foreach (scandir(__DIR__ . '/../src/Commands') as $file)
    {
        if ( ! str_contains($file, '.php') or $file === 'Command.php' )
        {
            continue;
        }
        $className = '\Radic\Commands\\' . str_replace('.php', '', $file);
        $application->add(new $className);
    }

    $application->run();
}
